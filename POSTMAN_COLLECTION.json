{
	"info": {
		"_postman_id": "ecommerce-api-collection",
		"name": "E-Commerce API Collection",
		"description": "Collection untuk testing E-Commerce API endpoints: Categories, Products, Orders, dan Payments",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Categories",
			"item": [
				{
					"name": "Get All Categories",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/categories?active_only=true",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "categories"],
							"query": [
								{"key": "active_only", "value": "true"}
							]
						}
					}
				},
				{
					"name": "Get Category by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/categories/:id",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "categories", ":id"],
							"variable": [
								{"key": "id", "value": "category-uuid-here"}
							]
						}
					}
				},
				{
					"name": "Get Category by Slug",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/categories/slug/:slug",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "categories", "slug", ":slug"],
							"variable": [
								{"key": "slug", "value": "laptop"}
							]
						}
					}
				},
				{
					"name": "Create Category",
					"request": {
						"method": "POST",
						"header": [
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Elektronik\",\n  \"description\": \"Perangkat elektronik dan gadget\",\n  \"slug\": \"elektronik\",\n  \"image_url\": \"https://example.com/images/category/elektronik.jpg\",\n  \"is_active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/categories",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "categories"]
						}
					}
				},
				{
					"name": "Create Sub Category",
					"request": {
						"method": "POST",
						"header": [
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Laptop\",\n  \"description\": \"Laptop dan komputer\",\n  \"slug\": \"laptop\",\n  \"image_url\": \"https://example.com/images/category/laptop.jpg\",\n  \"parent_id\": \"parent-category-uuid\",\n  \"is_active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/categories",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "categories"]
						}
					}
				},
				{
					"name": "Update Category",
					"request": {
						"method": "PUT",
						"header": [
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Updated Category Name\",\n  \"description\": \"Updated description\",\n  \"is_active\": false\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/categories/:id",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "categories", ":id"],
							"variable": [
								{"key": "id", "value": "category-uuid-here"}
							]
						}
					}
				},
				{
					"name": "Delete Category",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/categories/:id",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "categories", ":id"],
							"variable": [
								{"key": "id", "value": "category-uuid-here"}
							]
						}
					}
				}
			]
		},
		{
			"name": "Products",
			"item": [
				{
					"name": "Get All Products",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/products?page=1&limit=10&active_only=true",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "products"],
							"query": [
								{"key": "page", "value": "1"},
								{"key": "limit", "value": "10"},
								{"key": "category_id", "value": "", "disabled": true},
								{"key": "featured", "value": "", "disabled": true},
								{"key": "active_only", "value": "true"}
							]
						}
					}
				},
				{
					"name": "Get Product by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/products/:id",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "products", ":id"],
							"variable": [
								{"key": "id", "value": "product-uuid-here"}
							]
						}
					}
				},
				{
					"name": "Create Product",
					"request": {
						"method": "POST",
						"header": [
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"category_id\": \"category-uuid-here\",\n  \"name\": \"Laptop Gaming ASUS ROG\",\n  \"description\": \"Laptop gaming dengan processor Intel i7 dan GPU RTX 4060\",\n  \"sku\": \"LAP-ASUS-ROG-001\",\n  \"price\": 15000000,\n  \"stock\": 10,\n  \"weight\": 2500,\n  \"thumbnail\": \"https://example.com/images/laptop-asus-rog.jpg\",\n  \"is_active\": true,\n  \"is_featured\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/products",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "products"]
						}
					}
				},
				{
					"name": "Update Product",
					"request": {
						"method": "PUT",
						"header": [
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Laptop Gaming ASUS ROG Updated\",\n  \"price\": 14500000,\n  \"stock\": 8,\n  \"is_featured\": false\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/products/:id",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "products", ":id"],
							"variable": [
								{"key": "id", "value": "product-uuid-here"}
							]
						}
					}
				},
				{
					"name": "Delete Product",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/products/:id",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "products", ":id"],
							"variable": [
								{"key": "id", "value": "product-uuid-here"}
							]
						}
					}
				},
				{
					"name": "Add Product Image",
					"request": {
						"method": "POST",
						"header": [
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"image_url\": \"https://example.com/images/product-detail-1.jpg\",\n  \"sort_order\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/products/:id/images",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "products", ":id", "images"],
							"variable": [
								{"key": "id", "value": "product-uuid-here"}
							]
						}
					}
				},
				{
					"name": "Delete Product Image",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/products/images/:imageId",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "products", "images", ":imageId"],
							"variable": [
								{"key": "imageId", "value": "image-uuid-here"}
							]
						}
					}
				}
			]
		},
		{
			"name": "Orders",
			"item": [
				{
					"name": "Create Order",
					"request": {
						"method": "POST",
						"header": [
							{"key": "Content-Type", "value": "application/json"},
							{"key": "Authorization", "value": "Bearer {{auth_token}}", "description": "JWT token dari login"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"shipping_address_id\": \"address-uuid-here\",\n  \"items\": [\n    {\n      \"product_id\": \"product-uuid-here\",\n      \"quantity\": 1\n    }\n  ],\n  \"subtotal\": 15000000,\n  \"shipping_cost\": 7000,\n  \"insurance_cost\": 300,\n  \"warranty_cost\": 1100,\n  \"service_fee\": 1000,\n  \"application_fee\": 0,\n  \"total_discount\": 10500,\n  \"bonus\": 1700,\n  \"notes\": \"Tolong dikirim dengan hati-hati\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/orders",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "orders"]
						}
					}
				},
				{
					"name": "Get All Orders",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{auth_token}}", "description": "JWT token dari login"}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/orders?page=1&limit=10&status=&payment_status=",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "orders"],
							"query": [
								{"key": "page", "value": "1", "description": "Page number (default: 1)"},
								{"key": "limit", "value": "10", "description": "Items per page (default: 10)"},
								{"key": "status", "value": "", "description": "Filter by order status: pending, processing, shipped, delivered, cancelled", "disabled": true},
								{"key": "payment_status", "value": "", "description": "Filter by payment status: pending, success, failed, cancelled, expired", "disabled": true}
							]
						},
						"description": "Get list of orders for authenticated user. Supports filtering by order status and payment status."
					}
				},
				{
					"name": "Get Orders by Status (Pending)",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{auth_token}}", "description": "JWT token dari login"}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/orders?page=1&limit=10&status=pending",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "orders"],
							"query": [
								{"key": "page", "value": "1"},
								{"key": "limit", "value": "10"},
								{"key": "status", "value": "pending", "description": "Filter by order status"}
							]
						},
						"description": "Get orders with status: pending, processing, shipped, delivered, cancelled"
					}
				},
				{
					"name": "Get Orders by Payment Status (Success)",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{auth_token}}", "description": "JWT token dari login"}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/orders?page=1&limit=10&payment_status=success",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "orders"],
							"query": [
								{"key": "page", "value": "1"},
								{"key": "limit", "value": "10"},
								{"key": "payment_status", "value": "success", "description": "Filter by payment status"}
							]
						},
						"description": "Get orders with payment status: pending, success, failed, cancelled, expired"
					}
				},
				{
					"name": "Get Orders by Status and Payment Status",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{auth_token}}", "description": "JWT token dari login"}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/orders?page=1&limit=10&status=delivered&payment_status=success",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "orders"],
							"query": [
								{"key": "page", "value": "1"},
								{"key": "limit", "value": "10"},
								{"key": "status", "value": "delivered", "description": "Filter by order status"},
								{"key": "payment_status", "value": "success", "description": "Filter by payment status"}
							]
						},
						"description": "Get orders filtered by both order status and payment status"
					}
				},
				{
					"name": "Get Order by ID",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{auth_token}}", "description": "JWT token dari login"}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/orders/:id",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "orders", ":id"],
							"variable": [
								{"key": "id", "value": "order-uuid-here"}
							]
						}
					}
				}
			]
		},
		{
			"name": "Payments",
			"item": [
				{
					"name": "Create Payment",
					"request": {
						"method": "POST",
						"header": [
							{"key": "Content-Type", "value": "application/json"},
							{"key": "Authorization", "value": "Bearer {{auth_token}}", "description": "JWT token dari login"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"order_id\": \"order-uuid-here\",\n  \"payment_method\": \"bank_transfer\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/payments",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "payments"]
						}
					},
					"description": "Payment methods: bank_transfer, gopay, credit_card, qris, alfamart"
				},
				{
					"name": "Get Payment by ID",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{auth_token}}", "description": "JWT token dari login"}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/payments/:id",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "payments", ":id"],
							"variable": [
								{"key": "id", "value": "payment-uuid-here"}
							]
						}
					}
				},
				{
					"name": "Get Payment by Order ID",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{auth_token}}", "description": "JWT token dari login"}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/payments/order/:order_id",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "payments", "order", ":order_id"],
							"variable": [
								{"key": "order_id", "value": "order-uuid-here"}
							]
						}
					}
				},
				{
					"name": "Check Payment Status",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{auth_token}}", "description": "JWT token dari login"}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/payments/:id/status",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "payments", ":id", "status"],
							"variable": [
								{"key": "id", "value": "payment-uuid-here"}
							]
						}
					},
					"description": "Check payment status and sync with Midtrans if available"
				},
				{
					"name": "Midtrans Callback (Webhook)",
					"request": {
						"method": "POST",
						"header": [
							{"key": "Content-Type", "value": "application/json"}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"transaction_time\": \"2024-01-10 13:00:00\",\n  \"transaction_status\": \"settlement\",\n  \"transaction_id\": \"midtrans-transaction-id\",\n  \"status_message\": \"midtrans payment notification\",\n  \"status_code\": \"200\",\n  \"signature_key\": \"signature-key\",\n  \"payment_type\": \"bank_transfer\",\n  \"order_id\": \"ORD-20240110-130000-XXXX\",\n  \"merchant_id\": \"merchant-id\",\n  \"gross_amount\": \"15000.00\",\n  \"fraud_status\": \"accept\",\n  \"currency\": \"IDR\",\n  \"va_numbers\": [\n    {\n      \"va_number\": \"1234567890\",\n      \"bank\": \"bca\"\n    }\n  ],\n  \"expiry_time\": \"2024-01-11 13:00:00\",\n  \"qr_code_url\": \"https://example.com/qr-code.png\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/payments/midtrans/callback",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "payments", "midtrans", "callback"]
						}
					},
					"description": "This is the webhook endpoint for Midtrans payment notifications. No authentication required."
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:5000",
			"type": "string"
		},
		{
			"key": "auth_token",
			"value": "",
			"type": "string",
			"description": "JWT token dari endpoint login. Set otomatis setelah login."
		}
	]
}
